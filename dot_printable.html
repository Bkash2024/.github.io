<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>A4 Random Dot Practice (Spaced)</title>
    <style>
        @media print {
            body { margin: 0; padding: 0; }
            .page { margin: 0; box-shadow: none; }
        }
        body {
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .page {
            width: 210mm;
            height: 297mm;
            background-color: white;
            position: relative;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            box-sizing: border-box;
            overflow: hidden;
        }
        .dot {
            width: 1.5mm;
            height: 1.5mm;
            background-color: #007bff;
            border-radius: 50%;
            position: absolute;
        }
        .dot-group {
            position: absolute;
        }
        .dot-group .d1 { top: 0; left: 0; }
        .dot-group .d2 { top: 0; left: 4mm; }
        .dot-group .d3 { top: 4mm; left: 0; }
        .dot-group .d4 { top: 4mm; left: 4mm; }
    </style>
</head>
<body>

    <div class="page">
    
        <div class="dot" style="top: 10mm; left: 10mm;"></div>
        <div class="dot" style="top: 10mm; right: 10mm;"></div>
        <div class="dot" style="bottom: 10mm; left: 10mm;"></div>
        <div class="dot" style="bottom: 10mm; right: 10mm;"></div>

        <div class="dot" style="top: 20%; left: 10mm;"></div>
        <div class="dot" style="top: calc(20% + 5mm); left: 10mm;"></div>
        <div class="dot" style="top: 40%; left: 10mm;"></div>
        <div class="dot" style="top: calc(40% + 5mm); left: 10mm;"></div>
        <div class="dot" style="top: 60%; left: 10mm;"></div>
        <div class="dot" style="top: calc(60% + 5mm); left: 10mm;"></div>
        <div class="dot" style="top: 80%; left: 10mm;"></div>
        <div class="dot" style="top: calc(80% + 5mm); left: 10mm;"></div>
        
        <div class="dot" style="top: 20%; right: 10mm;"></div>
        <div class="dot" style="top: calc(20% + 5mm); right: 10mm;"></div>
        <div class="dot" style="top: 40%; right: 10mm;"></div>
        <div class="dot" style="top: calc(40% + 5mm); right: 10mm;"></div>
        <div class="dot" style="top: 60%; right: 10mm;"></div>
        <div class="dot" style="top: calc(60% + 5mm); right: 10mm;"></div>
        <div class="dot" style="top: 80%; right: 10mm;"></div>
        <div class="dot" style="top: calc(80% + 5mm); right: 10mm;"></div>

        <div class="dot" style="top: 10mm; left: 33%;"></div>
        <div class="dot" style="top: 10mm; left: calc(33% + 5mm);"></div>
        <div class="dot" style="top: 10mm; left: 66%;"></div>
        <div class="dot" style="top: 10mm; left: calc(66% + 5mm);"></div>
        
        <div class="dot" style="bottom: 10mm; left: 33%;"></div>
        <div class="dot" style="bottom: 10mm; left: calc(33% + 5mm);"></div>
        <div class="dot" style="bottom: 10mm; left: 66%;"></div>
        <div class="dot" style="bottom: 10mm; left: calc(66% + 5mm);"></div>
        
    </div>

    <script>
        (function generateRandomDots() {
            // --- You can customize these values ---
            const numberOfGroups = 15; // How many 2x2 groups to place
            const minDistance = 50;    // Minimum 50mm distance between group centers
            // ---------------------------------------

            const page = document.querySelector('.page');
            const minDistanceSquared = minDistance * minDistance;
            const placedGroups = []; // Stores {x, y} of placed groups

            // Define the "safe area" in mm (A4 is 210 x 297)
            const minX = 30;  // 30mm from left edge
            const maxX = 180; // (210 - 30)
            const minY = 30;  // 30mm from top edge
            const maxY = 267; // (297 - 30)
            const rangeX = maxX - minX;
            const rangeY = maxY - minY;

            // Safety break to prevent infinite loops if density is too high
            let attempts = 0;
            const maxAttempts = numberOfGroups * 100; // 100 tries per group

            while (placedGroups.length < numberOfGroups && attempts < maxAttempts) {
                attempts++; // Increment safety counter

                // 1. Generate a new random candidate position
                const candidateX = Math.random() * rangeX + minX;
                const candidateY = Math.random() * rangeY + minY;
                
                let isValid = true; // Assume it's valid

                // 2. Check against all previously placed groups
                for (const group of placedGroups) {
                    const dx = candidateX - group.x;
                    const dy = candidateY - group.y;
                    const distanceSquared = (dx * dx) + (dy * dy);

                    if (distanceSquared < minDistanceSquared) {
                        isValid = false; // It's too close!
                        break; // Stop checking
                    }
                }

                // 3. If it's valid, place it
                if (isValid) {
                    // Add to our tracking list
                    placedGroups.push({ x: candidateX, y: candidateY });
                    
                    // Create and add the DOM element
                    const groupEl = document.createElement('div');
                    groupEl.className = 'dot-group';
                    groupEl.style.top = candidateY + 'mm';
                    groupEl.style.left = candidateX + 'mm';
                    groupEl.innerHTML = `
                        <div class="dot d1"></div><div class="dot d2"></div>
                        <div class="dot d3"></div><div class="dot d4"></div>
                    `;
                    page.appendChild(groupEl);
                }
                // If !isValid, the while loop continues and we try again
            }

            if (attempts >= maxAttempts) {
                // This message appears in the browser's console (F12) if it fails
                console.warn(`Could not place all ${numberOfGroups} groups. Stopped at ${placedGroups.length}. Try lowering numberOfGroups or minDistance.`);
            }

        })();
    </script>

</body>
</html>
